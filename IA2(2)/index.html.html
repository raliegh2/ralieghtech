<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Raliegh's Apple Device Repair â€“ Expert Fixes for iPhone, iPad, MacBook & More</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* CSS Variables for consistent styling */
        :root {
            --primary-color: #007AFF; /* Apple Blue */
            --secondary-color: #5AC8FA; /* Lighter Blue */
            --dark-text: #1C1C1E;
            --light-text: #F2F2F7;
            --background-light: #FFFFFF;
            --background-dark: #F5F5F7;
            --border-color: #E0E0E0;
            --shadow-light: rgba(0, 0, 0, 0.08);
            --shadow-hover: rgba(0, 0, 0, 0.15);
        }

        /* Base styles for body and general typography */
        html {
            scroll-behavior: smooth; /* Added for smooth scrolling to anchor links */
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-dark);
            color: var(--dark-text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            box-sizing: border-box; /* Ensures padding and border are included in element's total width and height */
        }

        h1, h2 {
            text-align: center;
            color: var(--dark-text);
            margin-top: 2.5rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        /* Header styling for brand identity and navigation */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 3rem;
            background-color: var(--background-light);
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 10px var(--shadow-light);
        }

        .header h1 {
            margin: 0;
            color: var(--primary-color);
            font-size: 1.8rem;
            font-weight: 700;
        }

        .header-icons {
            display: flex;
            gap: 1.5rem;
            align-items: center; /* Align items vertically in the center */
        }

        .header-icons a {
            text-decoration: none;
            color: var(--dark-text);
            font-weight: 600;
            transition: color 0.3s ease;
            padding: 0.5rem 0.8rem; /* Added padding for better click/tap area */
            border-radius: 6px;
        }

        .header-icons a:hover {
            color: var(--primary-color);
            background-color: rgba(0, 122, 255, 0.05); /* Subtle hover effect */
        }

        .header-icons .icon {
            font-size: 1.6rem;
            cursor: pointer;
            color: var(--dark-text);
            transition: color 0.3s ease;
            padding: 0.5rem; /* Padding for consistent icon sizing */
        }

        .header-icons .icon:hover {
            color: var(--primary-color);
        }

        /* User status display in header */
        #userStatus {
            font-size: 0.9rem;
            color: #6A6A6A;
            margin-left: 1rem;
        }

        #loginButton, #logoutButton {
            background-color: var(--primary-color);
            color: var(--light-text);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s ease;
            margin-left: 1rem;
        }

        #loginButton:hover, #logoutButton:hover {
            background-color: #005BB5;
        }

        /* Service Cards Container - Grid Layout */
        .service-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 2.5rem auto;
            padding: 0 2rem;
        }

        /* Individual Service Card Styling */
        .service {
            background-color: var(--background-light);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 6px 20px var(--shadow-light);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .service:hover {
            transform: translateY(-8px); /* Lift effect on hover */
            box-shadow: 0 10px 30px var(--shadow-hover); /* Enhanced shadow */
        }

        .service i {
            font-size: 3.5rem;
            color: var(--primary-color);
            margin-bottom: 1.2rem;
            animation: pulse 2s infinite ease-in-out; /* Gentle pulse animation for icons */
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .service h3 {
            margin: 0.75rem 0 0.8rem;
            font-weight: 700;
            color: var(--dark-text);
            font-size: 1.4rem;
        }

        .service p {
            margin: 0.5rem 0 1.5rem;
            text-align: center;
            line-height: 1.6;
            color: #6A6A6A;
            flex-grow: 1; /* Allows paragraphs to take available space and align buttons at the bottom */
        }

        .service button {
            background-color: var(--primary-color);
            color: var(--light-text);
            border: none;
            padding: 0.9rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.05rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 15px rgba(0, 122, 255, 0.2); /* Subtle button shadow */
        }

        .service button:hover {
            background-color: #005BB5;
            transform: translateY(-2px);
        }

        /* Service Request Form Styling */
        #serviceRequestForm {
            max-width: 600px;
            margin: 3rem auto;
            padding: 2.5rem;
            background-color: var(--background-light);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: 0 8px 25px var(--shadow-light);
        }

        #serviceRequestForm label {
            display: block;
            margin-bottom: 0.7rem;
            font-weight: 600;
            color: var(--dark-text);
        }

        #serviceRequestForm input[type="text"],
        #serviceRequestForm input[type="email"],
        #serviceRequestForm input[type="tel"],
        #serviceRequestForm select,
        #serviceRequestForm textarea {
            width: calc(100% - 24px); /* Account for padding */
            padding: 12px;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            color: var(--dark-text);
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.06); /* Inner shadow for input fields */
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        #serviceRequestForm input:focus,
        #serviceRequestForm select:focus,
        #serviceRequestForm textarea:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.2); /* Focus ring effect */
            outline: none; /* Remove default outline */
        }

        #serviceRequestForm button[type="submit"] {
            background-color: #28A745; /* Green for submit button */
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
            display: block;
            width: 100%;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.2); /* Green button shadow */
        }

        #serviceRequestForm button[type="submit"]:hover {
            background-color: #218838;
            transform: translateY(-2px);
        }

        /* Price and Time Info Box */
        #priceAndTimeInfo {
            margin-top: 1.8rem;
            padding: 1.2rem;
            border: 1px solid #CCEEFF; /* Light blue border */
            background-color: #E6F7FF; /* Lighter blue background */
            border-radius: 8px;
            display: none; /* Hidden by default, shown by JS */
            color: var(--dark-text);
            font-size: 1.05rem;
        }

        #priceAndTimeInfo p {
            margin: 0.5rem 0;
        }

        #priceAndTimeInfo strong {
            color: var(--primary-color);
        }

        #loginFormContainer {
    display: none;
    position: fixed; /* Stick to right */
    top: 100px; /* Adjust based on header height */
    right: 2rem;
    width: 350px;
    padding: 2rem;
    background-color: #E6F0FF; /* Light blue background */
    border: 2px solid #007AFF; /* Blue border */
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0, 122, 255, 0.2); /* Blue shadow */
    z-index: 1000;
    text-align: center;
    transition: all 0.3s ease;
}

        }


        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                padding: 1rem;
            }
            .header h1 {
                margin-bottom: 1rem;
            }
            .header-icons {
                width: 100%;
                justify-content: space-around;
            }
            .service-container {
                grid-template-columns: 1fr; /* Single column layout */
                padding: 0 1rem;
            }
            .service, #serviceRequestForm {
                padding: 1.5rem;
            }
            #serviceRequestForm input[type="text"],
            #serviceRequestForm input[type="email"],
            #serviceRequestForm input[type="tel"],
            #serviceRequestForm select,
            #serviceRequestForm textarea {
                width: calc(100% - 20px); /* Adjust for smaller padding */
            }
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>Raliegh's Apple Repair</h1>
        <div class="header-icons">
            <a href="repairservices.html">Services</a>
			<a href="requestrepair.html">Request Repair
            <a href="aboutus.html">About Us</a>
			<a href="form.html">Login</a>
			<a href="checkout.html" id="cartLink">
			<i class="fas fa-shopping-cart icon" title="View Cart"></i></a>
		   

        </div>
    </div>
	

    <div id="loginFormContainer">
        <h2>Login</h2>
        <form id="loginForm">
            <input type="email" id="loginEmail" placeholder="Email" required>
            <input type="password" id="loginPassword" placeholder="Password" required>
            <button type="submit">Login</button>
            <button type="button" id="toggleToRegister" class="toggle-login">New user? Register here.</button>
        </form>

        <form id="registerForm" style="display: none;">
            <h2>Register</h2>
            <input type="email" id="registerEmail" placeholder="Email" required>
            <input type="password" id="registerPassword" placeholder="Password" required>
            <button type="submit">Register</button>
            <button type="button" id="toggleToLogin" class="toggle-login">Already have an account? Login here.</button>
        </form>
    </div>

    <h2 id="services-section">Expert iPhone, iPad, & Apple Device Repair Services</h2>
    <div class="service-container">
        <div class="service">
            <i class="fas fa-mobile-alt"></i>
            <h3>Cracked Screen Repair</h3>
            <p>Don't let a cracked screen dim your day. We offer quick, reliable screen replacements for iPhones, iPads, and even MacBooks, restoring your device's display to its original clarity and responsiveness.</p>
        </div>

        <div class="service">
            <i class="fas fa-battery-half"></i>
            <h3>Damaged Battery & Overheating Fix</h3>
            <p>Is your device's battery draining fast or experiencing uncomfortable overheating? We diagnose and resolve battery and thermal issues, ensuring your Apple device operates safely and efficiently.</p>
        </div>

        <div class="service">
            <i class="fas fa-hand-pointer"></i>
            <h3>Non-Responsive Screen Repair</h3>
            <p>If your touch screen isn't responding as it should, we can help. Our technicians address digitizer issues, restoring full touch functionality to your iPhone or iPad.</p>
        </div>

        <div class="service">
            <i class="fas fa-display"></i>
            <h3>Display (LCD/OLED) Repair</h3>
            <p>Beyond cracks, if your display has dead pixels, lines, or color issues, we perform precise LCD and OLED screen repairs to bring back vibrant and flawless visuals.</p>
        </div>

        <div class="service">
            <i class="fas fa-power-off"></i>
            <h3>Power Button Repair</h3>
            <p>A faulty power button can render your device unusable. We fix sticky, non-clicking, or unresponsive power buttons, ensuring you can easily turn your device on/off or wake/sleep it.</p>
        </div>

        <div class="service">
            <i class="fas fa-volume-up"></i>
            <h3>Volume Button Repair</h3>
            <p>Having trouble adjusting your device's volume? Our experts repair or replace damaged volume buttons, restoring full control over your audio experience.</p>
        </div>

        <div class="service">
            <i class="fas fa-camera"></i>
            <h3>Camera Repair (Front & Back)</h3>
            <p>Capture life's moments clearly again! We fix both front and back damaged cameras, including focus issues, blurry images, or completely non-functional lenses on your Apple device.</p>
        </div>

        <div class="service">
            <i class="fas fa-microchip"></i>
            <h3>Motherboard Swapping</h3>
            <p>For complex internal failures or liquid damage, we offer expert motherboard swapping services. Our skilled technicians can replace faulty motherboards to revive your bricked device.</p>
        </div>

        <div class="service">
            <i class="fas fa-charging-station"></i>
            <h3>Damaged Charging Port Repair</h3>
            <p>Having trouble charging your device? We repair or replace damaged charging ports, ensuring you can power up your iPhone, iPad, or MacBook without any hassle.</p>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, signOut, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, collection, addDoc, setDoc, getDoc, updateDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase configuration (provided by Canvas environment)
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentUserId = null;

        // DOM Elements
        const userStatusSpan = document.getElementById('userStatus');
        const loginButton = document.getElementById('loginButton');
        const logoutButton = document.getElementById('logoutButton');
        const accountIcon = document.getElementById('accountIcon');
        const cartIcon = document.getElementById('cartIcon');

        // Login/Register Form Elements
        const loginFormContainer = document.getElementById('loginFormContainer');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const loginEmailInput = document.getElementById('loginEmail');
        const loginPasswordInput = document.getElementById('loginPassword');
        const registerEmailInput = document.getElementById('registerEmail');
        const registerPasswordInput = document.getElementById('registerPassword');
        const toggleToRegisterButton = document.getElementById('toggleToRegister');
        const toggleToLoginButton = document.getElementById('toggleToLogin');

        // --- Authentication State Listener ---
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                currentUserId = user.uid;
                userStatusSpan.textContent = `Logged in as: ${user.email || 'Anonymous'}`;
                loginButton.style.display = 'none';
                logoutButton.style.display = 'inline-block';
                loginFormContainer.style.display = 'none'; // Hide login form if logged in
            } else {
                currentUserId = null;
                userStatusSpan.textContent = 'Not Logged In';
                loginButton.style.display = 'inline-block';
                logoutButton.style.display = 'none';
            }
        });

        // --- Initial Authentication (Canvas Specific) ---
        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
            signInWithCustomToken(auth, __initial_auth_token)
                .then(() => console.log("Signed in with custom token."))
                .catch((error) => {
                    console.error("Error signing in with custom token:", error);
                    signInAnonymously(auth)
                        .then(() => console.log("Signed in anonymously."))
                        .catch((anonError) => console.error("Error signing in anonymously:", anonError));
                });
        } else {
            signInAnonymously(auth)
                .then(() => console.log("Signed in anonymously."))
                .catch((error) => console.error("Error signing in anonymously:", error));
        }

        // --- Login/Logout Button Handlers ---
        loginButton.addEventListener('click', () => {
            loginFormContainer.style.display = 'block'; // Show login form
            loginForm.style.display = 'block'; // Ensure login form is visible by default
            registerForm.style.display = 'none'; // Ensure register form is hidden
        });

        logoutButton.addEventListener('click', async () => {
            try {
                await signOut(auth);
                alert("You have been logged out.");
            } catch (error) {
                console.error("Error logging out:", error);
                alert("Failed to log out: " + error.message);
            }
        });

accountIcon.onclick = () => {
  const user = auth.currentUser;
  if (user) {
    window.location.href = 'account.html'; // âœ… Redirect to account page
  } else {
    loginFormContainer.style.display = 'block'; // Show login form if not logged in
  }
};

            }
        }

        // --- Login Form Submission ---
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = loginEmailInput.value;
            const password = loginPasswordInput.value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                alert("Logged in successfully!");
                loginFormContainer.style.display = 'none'; // Hide form on success
                loginForm.reset(); // Clear form fields
            } catch (error) {
                alert("Login failed: " + error.message);
                console.error("Login error:", error);
            }
        });

        // --- Register Form Submission ---
        registerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = registerEmailInput.value;
            const password = registerPasswordInput.value;

            try {
                await createUserWithEmailAndPassword(auth, email, password);
                alert("Account created and logged in successfully!");
                loginFormContainer.style.display = 'none'; // Hide form on success
                registerForm.reset(); // Clear form fields
            } catch (error) {
                alert("Registration failed: " + error.message);
                console.error("Registration error:", error);
            }
        });

        // --- Toggle between Login and Register Forms ---
        toggleToRegisterButton.addEventListener('click', () => {
            loginForm.style.display = 'none';
            registerForm.style.display = 'block';
        });

        toggleToLoginButton.addEventListener('click', () => {
            registerForm.style.display = 'none';
            loginForm.style.display = 'block';
        });

        // Update cartIcon to link to checkout.html
        cartIcon.onclick = function() {
            if (currentUserId) {
                window.location.href = `checkout.html`; // Checkout page will list all orders for logged-in user
            } else {
                alert("Please log in to view your repair cart.");
                loginFormContainer.style.display = 'block'; // Show login form if not logged in
                loginForm.style.display = 'block'; // Ensure login form is visible by default
                registerForm.style.display = 'none'; // Ensure register form is hidden
            }
        };
		
  function requestRepair(serviceName, price) {
    // Save to local storage
    localStorage.setItem('repairService', JSON.stringify({
      name: serviceName,
      price: price
    }));

    // Redirect to checkout page
    window.location.href = 'checkout.html';
  }
    </script>
</body>
</html>